---
pcx_content_type: concept
title: Node.js compatibility
head: []
description: Node.js APIs available in Cloudflare Workers
---

import { DirectoryListing, WranglerConfig } from "~/components";

When you write a Worker, you may need to import packages from [npm](https://www.npmjs.com/). Many npm packages rely on APIs from the [Node.js runtime](https://nodejs.org/en/about), and will not work unless these Node.js APIs are available.

Cloudflare Workers provides a subset of Node.js APIs in two forms:

1. As built-in APIs provided by the Workers Runtime. Most of these APIs are
   full implementations of the corresponding Node.js APIs, while a few are
   partially supported or non-functional stubs intended for the APIs to be
   available for import only but not for actual use.
2. As polyfill shim implementations that [Wrangler](/workers/wrangler/) adds to your Worker's code, allowing it to import the module, but calling API methods will throw errors.

## Get Started

To enable built-in Node.js APIs and add polyfills, add the `nodejs_compat` compatibility flag to your [wrangler configuration file](/workers/wrangler/configuration/), and ensure that your Worker's [compatibility date](/workers/configuration/compatibility-dates/) is 2024-09-23 or later. [Learn more about the Node.js compatibility flag and v2](/workers/configuration/compatibility-flags/#nodejs-compatibility-flag).

<WranglerConfig>

```toml title="wrangler.toml"
compatibility_flags = [ "nodejs_compat" ]
compatibility_date = "2024-09-23"
```

</WranglerConfig>

## Supported Node.js APIs

The runtime APIs from Node.js listed below as "ðŸŸ¢ supported" are currently natively supported in the Workers Runtime. Item listed as "ðŸŸ¡ partially supported" are either only partially implemented or are implemented as non-functional stubs.

[Deprecated or experimental APIs from Node.js](https://nodejs.org/docs/latest/api/documentation.html#stability-index), and APIs that do not fit in a serverless context, are not included as part of the list below:

| API Name                                                                         | Natively supported by the Workers Runtime                                                    |
| -------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| [Assertion testing](/workers/runtime-apis/nodejs/assert/)                        | ðŸŸ¢ supported                                                                                 |
| [Asynchronous context tracking](/workers/runtime-apis/nodejs/asynclocalstorage/) | ðŸŸ¢ supported                                                                                 |
| [Async hooks](https://nodejs.org/docs/latest/api/async_hooks.html)               | ðŸŸ¡ partially supported (non-functional)                                                      |
| [Buffer](/workers/runtime-apis/nodejs/buffer/)                                   | ðŸŸ¢ supported                                                                                 |
| [Child processes](https://nodejs.org/docs/latest/api/child_process.html)         | ðŸŸ¡ partially supported (non-functional)                                                      |
| [Cluster](https://nodejs.org/docs/latest/api/cluster.html)                       | ðŸŸ¡ partially supported (non-functional)                                                      |
| [Console](https://nodejs.org/docs/latest/api/console.html)                       | ðŸŸ¡ partially supported                                                                       |
| [Crypto](/workers/runtime-apis/nodejs/crypto/)                                   | ðŸŸ¢ supported                                                                                 |
| [Debugger](/workers/observability/dev-tools/)                                    | ðŸŸ¢ supported via [Chrome Dev Tools integration](/workers/observability/dev-tools/)           |
| [Diagnostics Channel](/workers/runtime-apis/nodejs/diagnostics-channel/)         | ðŸŸ¢ supported                                                                                 |
| [DNS](/workers/runtime-apis/nodejs/dns/)                                         | ðŸŸ¢ supported                                                                                 |
| Errors                                                                           | ðŸŸ¢ supported                                                                                 |
| [Events](/workers/runtime-apis/nodejs/eventemitter/)                             | ðŸŸ¢ supported                                                                                 |
| [File system](/workers/runtime-apis/nodejs/fs/)                                  | ðŸŸ¢ supported                                                                                 |
| Globals                                                                          | ðŸŸ¢ supported                                                                                 |
| [HTTP](/workers/runtime-apis/nodejs/http/)                                       | ðŸŸ¢ supported                                                                                 |
| [HTTP/2](https://nodejs.org/docs/latest/api/http2.html)                          | ðŸŸ¡ partially supported (non-functional)                                                      |
| [HTTPS](/workers/runtime-apis/nodejs/https/)                                     | ðŸŸ¢ supported                                                                                 |
| [Inspector](https://nodejs.org/docs/latest/api/inspector.html)                   | ðŸŸ¡ partially supported via [Chrome Dev Tools integration](/workers/observability/dev-tools/) |
| [Module](https://nodejs.org/docs/latest/api/module.html)                         | ðŸŸ¡ partially supported                                                                       |
| [Net](/workers/runtime-apis/nodejs/net/)                                         | ðŸŸ¢ supported                                                                                 |
| [OS](https://nodejs.org/docs/latest/api/os.html)                                 | ðŸŸ¡ partially supported                                                                       |
| [Path](/workers/runtime-apis/nodejs/path/)                                       | ðŸŸ¢ supported                                                                                 |
| [Performance hooks](https://nodejs.org/docs/latest/api/perf_hooks.html)          | ðŸŸ¡ partially supported                                                                       |
| [Process](/workers/runtime-apis/nodejs/process/)                                 | ðŸŸ¢ supported                                                                                 |
| [Punycode](https://nodejs.org/docs/latest/api/punycode.html) (deprecated)        | ðŸŸ¢ supported                                                                                 |
| [Readline](https://nodejs.org/docs/latest/api/readline.html)                     | ðŸŸ¡ partially supported (non-functional)                                                      |
| [REPL](https://nodejs.org/docs/latest/api/repl.html)                             | ðŸŸ¡ partially supported (non-functional)                                                      |
| [Query strings](https://nodejs.org/docs/latest/api/querystring.html)             | ðŸŸ¢ supported                                                                                 |
| [SQLite](https://nodejs.org/docs/latest/api/sqlite.html)                         | âšª not yet supported                                                                         |
| [Stream](/workers/runtime-apis/nodejs/streams)                                   | ðŸŸ¢ supported                                                                                 |
| [String decoder](/workers/runtime-apis/nodejs/string-decoder/)                   | ðŸŸ¢ supported                                                                                 |
| [Test runner](https://nodejs.org/docs/latest/api/test.html)                      | âšª not supported                                                                             |
| [Timers](/workers/runtime-apis/nodejs/timers/)                                   | ðŸŸ¢ supported                                                                                 |
| [TLS/SSL](/workers/runtime-apis/nodejs/tls/)                                     | ðŸŸ¡ partially supported                                                                       |
| [UDP/datagram](https://nodejs.org/docs/latest/api/dgram.html)                    | ðŸŸ¡ partially supported (non-functional)                                                      |
| [URL](/workers/runtime-apis/nodejs/url/)                                         | ðŸŸ¢ supported                                                                                 |
| [Utilities](/workers/runtime-apis/nodejs/util/)                                  | ðŸŸ¢ supported                                                                                 |
| [V8](https://nodejs.org/docs/latest/api/v8.html)                                 | ðŸŸ¡ partially supported (non-functional)                                                      |
| [VM](https://nodejs.org/docs/latest/api/vm.html)                                 | ðŸŸ¡ partially supported (non-functional)                                                      |
| [Web Crypto API](/workers/runtime-apis/web-crypto/)                              | ðŸŸ¢ supported                                                                                 |
| [Web Streams API](/workers/runtime-apis/streams/)                                | ðŸŸ¢ supported                                                                                 |
| [Zlib](/workers/runtime-apis/nodejs/zlib/)                                       | ðŸŸ¢ supported                                                                                 |

Unless otherwise specified, native implementations of Node.js APIs in Workers are intended to match the implementation in the [Current release of Node.js](https://github.com/nodejs/release#release-schedule).

If an API you wish to use is missing and you want to suggest that Workers support it, please add a post or comment in the
[Node.js APIs discussions category](https://github.com/cloudflare/workerd/discussions/categories/node-js-apis) on GitHub.

### Node.js API Polyfills

Node.js APIs that are not yet supported in the Workers runtime are polyfilled via [Wrangler](/workers/wrangler/), which uses [unenv](https://github.com/unjs/unenv). If the `nodejs_compat` [compatibility flag](/workers/configuration/compatibility-flags/) is enabled, and your Worker's [compatibility date](/workers/configuration/compatibility-dates/) is 2024-09-23 or later, Wrangler will automatically inject polyfills into your Worker's code.

Adding polyfills maximizes compatibility with existing npm packages by providing modules with mocked methods. Calling these mocked methods will either noop or will throw an error with a message like:

```
[unenv] <method name> is not implemented yet!
```

This allows you to import packages that use these Node.js modules, even if certain methods are not supported.

## Enable only AsyncLocalStorage

If you need to enable only the Node.js `AsyncLocalStorage` API, you can enable the `nodejs_als` compatibility flag:

<WranglerConfig>

```toml
compatibility_flags = [ "nodejs_als" ]
```

</WranglerConfig>
